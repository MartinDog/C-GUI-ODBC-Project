CREATE TABLE SERVER_MANAGER(
	ID INT,
	Mname CHAR(20) DEFAULT '관리자',
	PLACE CHAR(30),
	PRIMARY KEY(ID)
);
CREATE TABLE GAME(
	GAMEID INT UNIQUE,
	TITLE CHAR(50) DEFAULT 'GAME',
	MAKER CHAR(50) DEFAULT 'COMPANY',
	TIME INT DEFAULT 10,
	MAX_P INT CHECK(MAX_P>=1)
	PRIMARY KEY(GAMEID)
);
CREATE TABLE SERVER_COMPUTER(
	COMID CHAR(20),
	PING INT NOT NULL DEFAULT 100 CHECK(PING<=200),
	CHECK_DATE CHAR(20) DEFAULT '목' CHECK(CHECK_DATE IN ('월','화','수','목','금')),
	LOCATION CHAR(30) NOT NULL DEFAULT '지역',
	MANAGER_ID INT ,
	PRIMARY KEY(COMID),
	FOREIGN KEY(MANAGER_ID) REFERENCES SERVER_MANAGER(ID)
		ON UPDATE SET NULL ON DELETE SET NULL
);
CREATE TABLE ERROR_DETECT(
	SUPERVISE CHAR(20),
	SUPERVISED CHAR(20),
	PRIMARY KEY(SUPERVISE,SUPERVISED),
	FOREIGN KEY(SUPERVISE) REFERENCES SERVER_COMPUTER(COMID)
		ON DELETE NO ACTION ON UPDATE NO ACTION,
	FOREIGN KEY(SUPERVISED) REFERENCES SERVER_COMPUTER(COMID)
		ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE GAME_SERVER(
	SERVER_ID INT ,
	GAME_ID INT DEFAULT 0,
	PEOPLE INT ,
	START_TIME time(0) DEFAULT '00:00:00',
	COMID CHAR(20),
	PRIMARY KEY(SERVER_ID),
	FOREIGN KEY(GAME_ID) REFERENCES GAME(GAMEID)
		ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY(COMID) REFERENCES SERVER_COMPUTER(COMID)
		ON DELETE CASCADE ON UPDATE CASCADE
);
CREATE TABLE PLAYER(
	SID_ INT, 
	PID CHAR(30),
	PING INT,
	PRIMARY KEY(SID_,PID),
	FOREIGN KEY(SID_) REFERENCES GAME_SERVER(SERVER_ID)
		ON DELETE CASCADE ON UPDATE CASCADE
);
CREATE TABLE QnA(
	QSID INT ,
	QPID CHAR(30) ,
	QMID INT ,
	CHECK_STATE bit not null DEFAULT 0,
	PRIMARY KEY(QSID,QPID,QMID),
	FOREIGN KEY(QSID,QPID) REFERENCES PLAYER(SID_,PID)
		ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY(QMID) REFERENCES SERVER_MANAGER(ID)
		ON DELETE NO ACTION ON UPDATE NO ACTION
);
INSERT INTO SERVER_MANAGER VALUES(1,'장현규','한국');
INSERT INTO SERVER_MANAGER VALUES(2,'김철수','한국');
INSERT INTO SERVER_MANAGER VALUES(3,'김수한무','한국');
INSERT INTO SERVER_MANAGER VALUES(4,'JOHN SMITH','미국');
INSERT INTO SERVER_MANAGER VALUES(5,'WEI FENG','중국');
INSERT INTO SERVER_MANAGER VALUES(6,'KENJI','일본');
INSERT INTO SERVER_MANAGER VALUES(7,'OBAMA','미국');
INSERT INTO SERVER_MANAGER VALUES(8,'GAO SUNG','대만');
INSERT INTO SERVER_MANAGER VALUES(9,'BUSH LEE','미국');
INSERT INTO SERVER_MANAGER VALUES(10,'홍길동',null);
INSERT INTO SERVER_COMPUTER VALUES('COM1A',100,'목','한국',1);
INSERT INTO SERVER_COMPUTER VALUES('COM2A',80,'금','한국',2);
INSERT INTO SERVER_COMPUTER VALUES('COM3A',150,'월','한국',3);
INSERT INTO SERVER_COMPUTER VALUES('COM4A',190,'화','미국',4);
INSERT INTO SERVER_COMPUTER VALUES('COM5A',170,'수','미국',5);
INSERT INTO SERVER_COMPUTER VALUES('COM6A',160,'목','중국',6);
INSERT INTO SERVER_COMPUTER VALUES('COM7A',70,'금','중국',7);
INSERT INTO SERVER_COMPUTER VALUES('COM8A',170,'월','일본',8);
INSERT INTO SERVER_COMPUTER VALUES('COM9A',88,'화','일본',9);
INSERT INTO SERVER_COMPUTER VALUES('COM10A',200,'수','중국',10);
INSERT INTO GAME VALUES(1,'RIM_WORLD','LUDEON',100,1)
INSERT INTO GAME VALUES(2,'CALL_OF_DUTY','EA',15,64)
INSERT INTO GAME VALUES(3,'SIMS4','EA',30,30)
INSERT INTO GAME VALUES(4,'ESCAPE_FROM_TARKOV','LUDEON',45,4)
INSERT INTO GAME VALUES(5,'BATTLEFIELD','EA',30,64)
INSERT INTO GAME VALUES(6,'GTA5','PIRAX',60,64)
INSERT INTO GAME VALUES(7,'CIV5','EA',100,24)
INSERT INTO GAME VALUES(8,'VICTORIA2','PARADOX',40,8)
INSERT INTO GAME VALUES(9,'STEELDIVISION','PLOND',100,4)
INSERT INTO GAME VALUES(10,'THE_PRIATE_TALES','LUDEON',60,15);
INSERT INTO GAME_SERVER VALUES(2,2,1,'10:17:00','COM2A');
INSERT INTO GAME_SERVER VALUES(3,3,1,'11:07:00','COM3A');
INSERT INTO GAME_SERVER VALUES(4,4,1,'12:00:00','COM4A');
INSERT INTO GAME_SERVER VALUES(5,5,1,'13:12:00','COM5A');
INSERT INTO GAME_SERVER VALUES(6,6,1,'14:57:00','COM6A');
INSERT INTO GAME_SERVER VALUES(7,7,1,'15:27:00','COM7A');
INSERT INTO GAME_SERVER VALUES(8,8,1,'16:47:00','COM8A');
INSERT INTO GAME_SERVER VALUES(9,9,1,'17:37:00','COM9A');
INSERT INTO GAME_SERVER VALUES(10,10,1,'18:17:00','COM10A');
INSERT INTO GAME_SERVER VALUES(1,1,1,'15:07:00','COM1A');
Insert INTO PLAYER VALUES(1,'WKDGUSRB3',50);
Insert INTO PLAYER VALUES(2,'RIFLEMAN5',20);
Insert INTO PLAYER VALUES(3,'BERNESE_MARTIN',30);
Insert INTO PLAYER VALUES(4,'FURRIOUSMAN',105);
Insert INTO PLAYER VALUES(5,'ILOVEYOU',110);
Insert INTO PLAYER VALUES(6,'DATABASE',120);
Insert INTO PLAYER VALUES(7,'COMEON',70);
Insert INTO PLAYER VALUES(8,'HI',80);
Insert INTO PLAYER VALUES(9,'EXCUSEME',200);
Insert INTO PLAYER VALUES(10,'HAHAHA',145);
INSERT INTO ERROR_DETECT VALUES('COM1A','COM2A')
INSERT INTO ERROR_DETECT VALUES('COM1A','COM3A')
INSERT INTO ERROR_DETECT VALUES('COM1A','COM4A')
INSERT INTO ERROR_DETECT VALUES('COM1A','COM6A')
INSERT INTO ERROR_DETECT VALUES('COM3A','COM7A')
INSERT INTO ERROR_DETECT VALUES('COM10A','COM1A')
INSERT INTO ERROR_DETECT VALUES('COM8A','COM2A')
INSERT INTO ERROR_DETECT VALUES('COM10A','COM5A')
INSERT INTO ERROR_DETECT VALUES('COM10A','COM8A')
INSERT INTO ERROR_DETECT VALUES('COM10A','COM9A')
INSERT INTO ERROR_DETECT VALUES('COM1A','COM10A')
Insert INTO QnA VALUES(1,'WKDGUSRB3',1,0);
Insert INTO QnA VALUES(2,'RIFLEMAN5',2,0);
Insert INTO QnA VALUES(3,'BERNESE_MARTIN',3,0);
Insert INTO QnA VALUES(4,'FURRIOUSMAN',4,0);
Insert INTO QnA VALUES(5,'ILOVEYOU',5,0);
Insert INTO QnA VALUES(6,'DATABASE',6,0);
Insert INTO QnA VALUES(7,'COMEON',7,0);
Insert INTO QnA VALUES(8,'HI',8,0);
Insert INTO QnA VALUES(9,'EXCUSEME',9,0);
Insert INTO QnA VALUES(10,'HAHAHA',10,0);
SELECT * FROM SERVER_MANAGER
SELECT * FROM GAME
SELECT * FROM SERVER_COMPUTER
SELECT * FROM ERROR_DETECT
SELECT * FROM GAME_SERVER
SELECT * FROM PLAYER
SELECT * FROM QNA